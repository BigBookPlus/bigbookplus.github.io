<!doctype html><html lang=en><head><title>Blogs</title>
<meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><link rel=stylesheet href=/application.6a5cdf7499f781bae02ed80dbc345e1b18e8cf6108d1808a7d1fbbf08e5c006e.css integrity="sha256-alzfdJn3gbrgLtgNvDReGxjoz2EI0YCKfR+78I5cAG4="><link rel=icon type=image/png href=/images/favicon_hu_a23dc4244bee30eb.png><link rel=alternate type=application/rss+xml href=https://bigbookplus.github.io/posts/blogs/index.xml title><meta property="og:url" content="https://bigbookplus.github.io/posts/blogs/"><meta property="og:title" content="Blogs"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="Blogs"><script integrity="sha256-DO4ugzEwhTW1Id1UIWn0gUJWaebCYOypeTit6LW4QB4=">let theme=localStorage.getItem("theme-scheme")||localStorage.getItem("darkmode:color-scheme")||"light";theme==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?theme="dark":theme="light"),document.documentElement.setAttribute("data-theme",theme)</script></head><body class="type-posts kind-section" data-bs-spy=scroll data-bs-target=#TableOfContents data-bs-offset=80><div class="container-fluid bg-secondary wrapper"><nav class="navbar navbar-expand-xl top-navbar shadow" id=top-navbar><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button>
<i data-feather=sidebar></i>
</button>
<a class=navbar-brand href=/><img src=/images/main-logo_hu_715d6024c143d0ec.png id=logo alt=Logo>
</a><button class="navbar-toggler navbar-light" id=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#top-nav-items aria-label=menu>
<i data-feather=menu></i></button><div class="collapse navbar-collapse dynamic-navbar" id=top-nav-items><ul class="nav navbar-nav ms-auto"><li class=nav-item><a class=nav-link href=/#home>Home</a></li><li class=nav-item><a class=nav-link href=/#about>About</a></li><li class=nav-item><a class=nav-link href=/#skills>Skills</a></li><div id=top-navbar-divider></div><li class=nav-item><a class=nav-link id=blog-link href=/posts>Posts</a></li></ul></div></div><img src=/images/main-logo_hu_715d6024c143d0ec.png class=d-none id=main-logo alt=Logo>
<img src=/images/inverted-logo_hu_a23dc4244bee30eb.png class=d-none id=inverted-logo alt="Inverted Logo"></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/search><input type=text name=keyword placeholder=Search data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/posts data-filter=all>Posts</a></li><div class=subtree><li><a class="active list-link" href=/posts/blogs/ title=Blogs>Blogs</a></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class="content container-fluid" id=content><div class="container-fluid post-card-holder" id=post-card-holder><div class=post-card><div class=card><div class=card-head><a href=/posts/blogs/cmake_opencv/ class=post-card-link><img class=card-img-top src=/images/default-hero.jpg alt="Hero Image"></a></div><div class=card-body><a href=/posts/blogs/cmake_opencv/ class=post-card-link><h5 class=card-title>ä»æºç ç¼–è¯‘OpenCV 4.5.xï¼šæ·±åº¦å­¦ä¹ ä¸CUDAåŠ é€Ÿå®æˆ˜æŒ‡å—</h5><p class="card-text post-summary">ä»æºç ç¼–è¯‘OpenCV 4.5.xï¼šæ·±åº¦å­¦ä¹ ä¸CUDAåŠ é€Ÿå®æˆ˜æŒ‡å— åœ¨è¿™ç¯‡å›¾æ–‡å¹¶èŒ‚çš„æŒ‡å—ä¸­ï¼Œæˆ‘ä»¬ç€é‡è®²è§£å¦‚ä½•åœ¨Windows 10ç¯å¢ƒä¸‹é€šè¿‡CMakeæ„å»ºOpenCV 4.5.xçš„å®šåˆ¶ç‰ˆæœ¬ï¼Œç‰¹åˆ«å…³æ³¨æ·±åº¦å­¦ä¹ æ¨¡å—ï¼ˆDNNï¼‰ä¸CUDAåŠ é€Ÿçš„é…ç½®æ–¹æ³•ã€‚æˆ‘ä»¬å°†é€šè¿‡ç»“æ„åŒ–æµç¨‹å›¾å’Œå…³é”®é…ç½®ç‚¹æ ‡æ³¨ï¼Œå¸®åŠ©å¼€å‘è€…å¿«é€Ÿå®Œæˆç¼–è¯‘ç¯å¢ƒæ­å»ºï¼Œç¡®ä¿DNNæ¨ç†æ¨¡å—èƒ½å¤Ÿå……åˆ†åˆ©ç”¨NVIDIA GPUèµ„æºã€‚
ğŸ”§ ç¯å¢ƒå‡†å¤‡ ç¡¬ä»¶è¦æ±‚ - NVIDIA GPUï¼ˆCUDAå…¼å®¹è®¾å¤‡ï¼‰ - >= 8GBæ˜¾å­˜ï¼ˆå»ºè®®16GBä»¥ä¸Šï¼‰ è½¯ä»¶ä¾èµ– 1. Visual Studio 2019ï¼ˆéœ€å®‰è£…C++æ¡Œé¢å¼€å‘å¥—ä»¶ï¼‰ 2. CUDA Toolkit 11.3+ (**éœ€ä¸cuDNNç‰ˆæœ¬å¯¹åº”**) 3. cuDNN 8.2+ï¼ˆä¸‹è½½è·¯å¾„ç¤ºä¾‹ï¼šhttps://developer.nvidia.com/cudnnï¼‰ 4. Gitå‘½ä»¤è¡Œå·¥å…· ğŸ“¦ æºç ä¸‹è½½ä¸å·¥ç¨‹åˆå§‹åŒ– æºç è·å–ï¼ˆGitæ“ä½œï¼‰ :: è¿›å…¥å·¥ä½œç›®å½• cd /d D:/WORK/opencv-github :: å…‹éš†æ ¸å¿ƒåº“ git clone https://github.com/opencv/opencv.git -b 4.5.2 # æ³¨æ„æ·»åŠ tagæˆ–branchæŒ‡å®šç‰ˆæœ¬ :: å…‹éš†æ‰©å±•æ¨¡å—åº“ git clone https://github.com/opencv/opencv_contrib.git -b 4.5.2 TIP
ç›´æ¥åœ¨GitHubé¡µé¢åˆ‡æ¢å¯¹åº”ç‰ˆæœ¬æ›´ç¨³å¦¥ï¼ˆcommitç‰ˆæœ¬è®°å½•è§ä¸‹å›¾ï¼‰ ğŸ”§ CMakeé…ç½®æµç¨‹è¯¦è§£ é…ç½®ç•Œé¢æµç¨‹å›¾ graph TD A[å¯åŠ¨CMake-GUI] --> B[è®¾ç½®æºç›®å½•] B --> C[è®¾ç½®æ„å»ºç›®å½•] C --> D[é¦–æ¬¡Configureé€‰æ‹©VS2019x64] D --> E[ç­‰å¾…IPPICVè‡ªåŠ¨ä¸‹è½½] E --> F[å†æ¬¡Configureåº”ç”¨ç»“æœ] F --> G[è®¾ç½®OPENCV_EXTRA_MODULES_PATH] G --> H[å¯ç”¨CUDAç›¸å…³é€‰é¡¹] H --> I[å‹¾é€‰å¿…è¦ç¼–è¯‘é€‰é¡¹] I --> J[Generateç”ŸæˆVSå·¥ç¨‹] å…³é”®é…ç½®é¡¹è§£æ 1. æ¨¡å—è·¯å¾„è®¾ç½® Name: OPENCV_EXTRA_MODULES_PATH Path: D:/WORK/opencv-github/opencv_contrib/modules 2. CUDAåŠ é€Ÿç›¸å…³é…ç½® FolderPath[CUDAé€‰é¡¹åŒº]: - WITH_CUDA â†’ ON - OPENCV_DNN_CUDA â†’ ON - WITH_CUDNN â†’ ON - CUDA_FAST_MATH â†’ ON æ³¨æ„ç‚¹ï¼š - ç¦ç”¨ BUILD_CUDA_STUBSï¼ˆé˜²æ­¢ç”Ÿæˆæ— æ•ˆæ¨¡æ‹Ÿä»£ç ï¼‰ - CUDA gfxå¹³å°æ— éœ€å¯ç”¨ï¼ˆWindowsé»˜è®¤æ”¯æŒx64ï¼‰ 3. é«˜çº§ä¼˜åŒ–é€‰é¡¹ ä¼˜åŒ–é€‰é¡¹é…ç½®ç»„: - BUILD_opencv_world â†’ ONï¼ˆå”¯ä¸€åŠ¨æ€åº“æ¨¡å¼ï¼‰ - BUILD_DOCS â†’ OFFï¼ˆç¦ç”¨æ–‡æ¡£ç”Ÿæˆï¼‰ - ENABLE_NONFREE â†’ ONï¼ˆå¯ç”¨ä¸“åˆ©ç®—æ³•æ¨¡å—ï¼‰</p></a></div><div class=card-footer><span class=float-start>Thursday, March 27, 2025
</span><a href=/posts/blogs/cmake_opencv/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/posts/blogs/2023-04-11-openvino-installation/ class=post-card-link><img class=card-img-top src=/images/default-hero.jpg alt="Hero Image"></a></div><div class=card-body><a href=/posts/blogs/2023-04-11-openvino-installation/ class=post-card-link><h5 class=card-title>åœ¨Dockerä¸­å®‰è£…å’Œé…ç½®OpenVino 2022.3</h5><p class="card-text post-summary">ä»ä»£ç å®‰è£… å®˜æ–¹æ¨èä»ä»£ç å®‰è£…
å¼€å±€ä¸åˆ© é€‰æ‹©é€šè¿‡gitee cloneå®‰è£…ï¼Œä½†æ˜¯åå¤cloneå¤±è´¥ã€‚æŠ¥é”™å¦‚ä¸‹ï¼š
# git clone -b 2022.3.0 https://gitee.com/openvinotoolkit-prc/openvino.git Cloning into 'openvino'... remote: Enumerating objects: 345561, done. remote: Counting objects: 100% (59023/59023), done. remote: Compressing objects: 100% (33490/33490), done. error: RPC failed; curl 56 GnuTLS recv error (-9): Error decoding the received TLS packet. fatal: the remote end hung up unexpectedly fatal: early EOF fatal: index-pack failed è§£å†³æ–¹æ³• git config --global http.postBuffer 500M git config --global http.maxRequestBuffer 100M git config --global core.compression 0</p></a></div><div class=card-footer><span class=float-start>Tuesday, April 11, 2023
</span><a href=/posts/blogs/2023-04-11-openvino-installation/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/posts/blogs/2023-04-08-run-docker-without-sudo/ class=post-card-link><img class=card-img-top src=/images/default-hero.jpg alt="Hero Image"></a></div><div class=card-body><a href=/posts/blogs/2023-04-08-run-docker-without-sudo/ class=post-card-link><h5 class=card-title>æ— éœ€sudoè¿è¡Œdockerå‘½ä»¤</h5><p class="card-text post-summary">Run Docker commands without sudo æ–°å®‰è£…çš„Dockerï¼Œæœ‰å¯èƒ½éœ€è¦ä½¿ç”¨sudoæ‰èƒ½è¿è¡Œdockerå‘½ä»¤ã€‚
æ¯”å¦‚ï¼Œè¿è¡Œä¸€ä¸ªGPU dockeré•œåƒï¼Œéœ€è¦ä½¿ç”¨sudoï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼š
$ docker run --rm --runtime=nvidia --gpus all nvidia/cuda:11.6.2-base-ubuntu20.04 nvidia-smi docker: permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Post "http://%2Fvar%2Frun%2Fdocker.sock/v1.24/containers/create": dial unix /var/run/docker.sock: connect: permission denied. See 'docker run --help'. æŠ¥é”™ä¿¡æ¯å°±æ˜¯è¯´ï¼Œæ²¡æœ‰æƒé™è®¿é—®docker daemonã€‚è¿™æ˜¯å› ä¸ºdockeré»˜è®¤æƒ…å†µä¸‹æ˜¯ä¸å…è®¸æ™®é€šç”¨æˆ·ä½¿ç”¨çš„ï¼Œéœ€è¦ä½¿ç”¨sudoæ‰èƒ½è¿è¡Œdockerå‘½ä»¤ã€‚
è¿™æ ·å¾ˆä¸æ–¹ä¾¿ï¼Œä¸‹é¢ä»‹ç»ä¸€ä¸‹å¦‚ä½•è®©dockerä¸éœ€è¦sudoå°±èƒ½è¿è¡Œã€‚
1. Add the docker group if it doesn&rsquo;t already exist é¦–å…ˆåˆ›å»ºä¸€ä¸ªDocker ç”¨æˆ·ç»„ï¼Œå¦‚æœç”¨æˆ·ç»„å·²ç»å­˜åœ¨ï¼Œå¯ä»¥è·³è¿‡è¿™ä¸€æ­¥ã€‚
$ sudo groupadd docker 2. Add the connected user $USER to the docker group ç„¶åæŠŠå½“å‰ç”¨æˆ·åŠ å…¥åˆ°dockerç”¨æˆ·ç»„ä¸­ã€‚</p></a></div><div class=card-footer><span class=float-start>Saturday, April 8, 2023
</span><a href=/posts/blogs/2023-04-08-run-docker-without-sudo/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/posts/blogs/2023-03-31-enable-face-recognition-cuda/ class=post-card-link><img class=card-img-top src=/images/default-hero.jpg alt="Hero Image"></a></div><div class=card-body><a href=/posts/blogs/2023-03-31-enable-face-recognition-cuda/ class=post-card-link><h5 class=card-title>å¼€å¯face_recognitionçš„CUDAæ”¯æŒä»¥åŠäººè„¸è¯†åˆ«packageçš„ä¸€ç‚¹è®¨è®º</h5><p class="card-text post-summary">å¼€å¯face_recognitionçš„CUDAæ”¯æŒçš„æ–¹æ³• face_recognitionæ˜¯ä¸€ä¸ªpythonåŒ…ï¼Œç”¨äºäººè„¸è¯†åˆ«ã€‚å±äºåŸºç¡€çš„äººè„¸è¯†åˆ«åŒ…ï¼Œæ”¯æŒäººè„¸æ£€æµ‹ã€äººè„¸ç¼–ç ã€äººè„¸æ¯”å¯¹ç­‰åŠŸèƒ½ã€‚ face_recognitionåŒ…æ”¯æŒä½¿ç”¨GPUè¿›è¡ŒåŠ é€Ÿï¼Œä½†æ˜¯é»˜è®¤æƒ…å†µä¸‹æ˜¯ä¸å¼€å¯çš„ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œç›´æ¥ç”¨Pipæˆ–è¿™condaæ–¹å¼è¿›è¡Œå®‰è£…ï¼Œè£…ä¸Šçš„åŒ…åŸºæœ¬ä¸Šæ˜¯ä¸æ”¯æŒGPUè®¡ç®—çš„ã€‚ face_recognitionçš„æ ¸å¿ƒè®¡ç®—éƒ¨åˆ†ä¾èµ–dlibï¼Œæ‰€ä»¥éœ€è¦å®‰è£…dlibçš„GPUç‰ˆæœ¬ã€‚å¦‚éœ€è¦ä½¿ç”¨GPUè¿›è¡ŒåŠ é€Ÿçš„æ—¶å€™ï¼Œéœ€è¦å®‰è£…CUDAå’ŒcuDNNã€‚å®‰è£…dlibçš„GPUç‰ˆæœ¬ï¼Œéœ€è¦ä¸‹è½½ä»£ç ï¼Œå¼€å¯cudaå’Œcudnnæ”¯æŒï¼Œç„¶åç¼–è¯‘å®‰è£…ã€‚ ä¸‹é¢ä»‹ç»ä¸€ä¸‹å®‰è£…è¿‡ç¨‹ã€‚
æ ¸å¿ƒï¼šç¼–è¯‘å®‰è£…dlib with CUDA å®˜æ–¹æ–‡æ¡£ä»‹ç»å¼€å¯cudaæ”¯æŒçš„dlibçš„å®‰è£…è¿‡ç¨‹å¦‚ä¸‹ï¼š
Installing dlib using conda with CUDA enabled Prerequisite: conda and/or miniconda are already installed
Create a conda environment. $ conda create -n dlib python=3.8 cmake ipython Activate the environment. $ conda activate dlib Install CUDA and cuDNN with conda using nvidia channel $ conda install cuda cudnn -c nvidia Then find the path to the nvcc of this environment. We will use this path for the build step below</p></a></div><div class=card-footer><span class=float-start>Friday, March 31, 2023
</span><a href=/posts/blogs/2023-03-31-enable-face-recognition-cuda/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/posts/blogs/2022-11-03-use-docker-for-gpu-and-web-camera-applications/ class=post-card-link><img class=card-img-top src=/images/default-hero.jpg alt="Hero Image"></a></div><div class=card-body><a href=/posts/blogs/2022-11-03-use-docker-for-gpu-and-web-camera-applications/ class=post-card-link><h5 class=card-title>ä½¿ç”¨Dockerè¾…åŠ©å›¾åƒè¯†åˆ«ç¨‹åºå¼€å‘ï¼šåœ¨Dockerä¸­è®¿é—®GPUå’Œã€USBç›¸æœºä»¥åŠç½‘ç»œ</h5><p class="card-text post-summary">å¼•è¨€ åœ¨æ“ä½œç³»ç»Ÿä¸­å‘è¡Œåº”ç”¨ç¨‹åºï¼Œå°¤å…¶æ˜¯pythonåº”ç”¨ç¨‹åºï¼Œå…¶ç¯å¢ƒé…ç½®å¸¸å¸¸æ˜¯åˆ†å‘è¿‡ç¨‹ä¸­çš„é‡è¦ä¸€ç¯ã€‚å¦‚æœåƒå¼€å‘çš„æ—¶å€™é‚£æ ·æ‰‹åŠ¨æ„å»ºï¼Œä¸€æ–¹é¢å·¥ä½œé‡éš¾ä»¥æ‰¿å—ï¼Œå¦ä¸€æ–¹é¢ç»å¸¸ä¼šå‡ºç°å„ç§å„æ ·çš„é—®é¢˜ã€‚åœ¨ä¸åŒçš„ç›®æ ‡ä¸»æœºä¸Šæ‰‹åŠ¨æ„å»ºç¯å¢ƒï¼Œä¼šå—åˆ°ç›®æ ‡æ“ä½œç³»ç»Ÿçš„ç‰ˆæœ¬ã€æ–‡ä»¶ç³»ç»Ÿã€æ‰€å®‰è£…è½¯ä»¶åŒ…çš„æƒ…å†µå½±å“ã€‚è€Œä¸”å¼€å‘æ—¶æ‰€ä½¿ç”¨çš„ä¸€äº›é»˜è®¤å®‰è£…åŒ…ï¼Œåˆ°äº†å‘å¸ƒçš„æ—¶å€™å¯èƒ½å·²ç»éƒ½è¢«æ›´æ–°è¿‡ï¼Œæ‰€ä»¥æ‰‹åŠ¨æ„å»ºè¦æ±‚ä½¿ç”¨çš„åŒ…ç‰ˆæœ¬å·ä¹Ÿç²¾ç¡®è®°å½•ã€‚
å®‰è£…å’Œé…ç½® å®‰è£…GPU dockerï¼Œé¦–å…ˆéœ€è¦å®‰è£…dockerï¼Œç„¶ååœ¨dockerçš„åŸºç¡€ä¸Šå®‰è£…nvidia-dockerã€‚
å®‰è£…docker å‚è€ƒé“¾æ¥ https://docs.docker.com/engine/install/ubuntu
å®‰è£…nvidia-docker å‚è€ƒé“¾æ¥ https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/install-guide.html#docker
åœ¨dockerä¸­æ˜¾ç¤ºGUI å¦‚æœåœ¨Dockerä¸­å¼€å‘çš„æ˜¯å¸¦æœ‰GUIçš„åº”ç”¨ç¨‹åºï¼Œä¹Ÿå°±æ˜¯åœ¨dockerä¸­æ˜¾ç¤ºGUIï¼Œéœ€è¦å¯åŠ¨æ”¯æŒGUIçš„dockeré•œåƒã€‚
é¦–å…ˆé…ç½®ä¸€ä¸‹xhost
xhost +local:docker æˆ–è€…
xhost + å¯åŠ¨dockerï¼Œç”±äºéœ€è¦dockerä¸­æ˜¾ç¤ºGUIï¼Œæ‰€ä»¥åŠ å…¥å‚æ•°
-v /tmp/.X11-unix:/tmp/.X11-unix -e DISPLAY=$DISPLAY å®Œæ•´æŒ‡ä»¤å¦‚ä¸‹ï¼š
docker run --name mydocker --gpus all --shm-size=1g --ulimit memlock=-1 -it -v /tmp/.X11-unix:/tmp/.X11-unix -e DISPLAY=$DISPLAY snn-server:basic æ³¨æ„ï¼Œè¿™é‡Œæ˜¯å¯åŠ¨äº†GPU dockerï¼Œ&ndash;gpus allæ˜¯æŒ‡å®šä½¿ç”¨æ‰€æœ‰çš„GPUï¼Œå¦‚æœåªä½¿ç”¨ä¸€å—GPUï¼Œå¯ä»¥æŒ‡å®šä¸º&ndash;gpus 0ã€‚
åœ¨Dockerä¸­è®¿é—®usbç›¸æœº å¦‚æœéœ€è¦åœ¨dockerä¸­è®¿é—®usbç›¸æœºï¼Œéœ€è¦åœ¨å¯åŠ¨dockerçš„æ—¶å€™ï¼Œè¿½åŠ ä»¥ä¸‹å‚æ•°
-v /dev/video0:/dev/video0 --device=/dev/video0 è¿™æ ·å°±æŠŠå®¿ä¸»æœºçš„/dev/video0æ˜ å°„åˆ°dockerä¸­çš„/dev/video0ï¼Œç„¶ååœ¨dockerä¸­å°±å¯ä»¥è®¿é—®åˆ°ç›¸æœºäº†ã€‚
docker run --name mydocker --gpus all --shm-size=1g --ulimit memlock=-1 -v /dev/video0:/dev/video0 --device=/dev/video0 -it -v /tmp/.X11-unix:/tmp/.X11-unix -e DISPLAY=$DISPLAY myimage:latest åœ¨Dockeré•œåƒä¸­å¼€æ”¾ç«¯å£ å¦‚æœéœ€è¦ä»dockerä¸­å¯¹å¤–æä¾›æœåŠ¡ï¼Œéœ€è¦åœ¨dockerä¸­å‘å®¿ä¸»æœºè¿›è¡Œç«¯å£æ˜ å°„ï¼Œæ‰å¯ä»¥ä»å®¿ä¸»æœºè®¿é—®åˆ°dockerä¸­çš„æœåŠ¡ã€‚
Dockerä¸­çš„ç«¯å£æ˜ å°„ï¼Œéœ€è¦åœ¨å¯åŠ¨dockerçš„æ—¶å€™ï¼ŒåŠ å…¥å‚æ•°
-p 8080:8080 è¿™æ ·ï¼Œå®¿ä¸»æœºçš„8080ç«¯å£å°±æ˜ å°„åˆ°dockerä¸­çš„8080ç«¯å£äº†ã€‚</p></a></div><div class=card-footer><span class=float-start>Thursday, November 3, 2022
</span><a href=/posts/blogs/2022-11-03-use-docker-for-gpu-and-web-camera-applications/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/posts/blogs/2022-07-04-build-ffmpeg-with-cuda-centos8/ class=post-card-link><img class=card-img-top src=/images/default-hero.jpg alt="Hero Image"></a></div><div class=card-body><a href=/posts/blogs/2022-07-04-build-ffmpeg-with-cuda-centos8/ class=post-card-link><h5 class=card-title>Build FFMpeg with CUDA on CentOS 8</h5><p class="card-text post-summary">Prepareing CUDA toolkits need to be installed. Then the following listed packages should be installed too.
dnf -y install automake autoconf libtool make gcc gcc-c++ dnf --enablerepo=powertools -y install giflib-devel dnf --enablerepo=powertools -y install libexif-devel dnf -y install bison pkgconfig glib2-devel gettext make libpng-devel libjpeg-devel libtiff-devel libexif-devel giflib-devel libX11-devel freetype-devel fontconfig-devel cairo-devel fribidi-devel dnf -y install openssl openssl-devel Note that, powertools might be PowerTools according to different configurations, just replace the name.</p></a></div><div class=card-footer><span class=float-start>Monday, July 4, 2022
</span><a href=/posts/blogs/2022-07-04-build-ffmpeg-with-cuda-centos8/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/posts/blogs/2022-08-11-gnuplot-installation/ class=post-card-link><img class=card-img-top src=/images/default-hero.jpg alt="Hero Image"></a></div><div class=card-body><a href=/posts/blogs/2022-08-11-gnuplot-installation/ class=post-card-link><h5 class=card-title>Installation of GNUPlot 5.4.3 on Linux with png/jpg export support</h5><p class="card-text post-summary">We need to install libpng and libgd before the compilation of gnuplot-5.4.3
We can install libpng using yum install
yum install libpng-devel The libgd-devel package provided by yum is not compatable with gnuplot-5.4.3 on the aws-linux-2, we download and compile the officially new version.
wget https://github.com/libgd/libgd/releases/download/gd-2.3.3/libgd-2.3.3.tar.gz tar zxvf ./libgd-2.3.3.tar.gz cd libgd-2.3.3 ./configure make sudo make install Then compile gnuplot.
cd libs wget https://sourceforge.net/projects/gnuplot/files/gnuplot/5.4.3/gnuplot-5.4.3.tar.gz tar zxvf ./gnuplot-5.4.3.tar.gz cd gnuplot-5.4.3 ./configure make sudo make install</p></a></div><div class=card-footer><span class=float-start>Monday, July 4, 2022
</span><a href=/posts/blogs/2022-08-11-gnuplot-installation/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/posts/blogs/2022-06-15-cpp-regex/ class=post-card-link><img class=card-img-top src=/images/default-hero.jpg alt="Hero Image"></a></div><div class=card-body><a href=/posts/blogs/2022-06-15-cpp-regex/ class=post-card-link><h5 class=card-title>C++ä¸­æ­£åˆ™è¡¨è¾¾å¼çš„ç”¨æ³•</h5><p class="card-text post-summary">C++11å¼•å…¥äº† &lt;regex> æ ‡å‡†åº“ï¼Œä¸ºå¼€å‘äººå‘˜æä¾›äº†å¼ºå¤§çš„æ­£åˆ™è¡¨è¾¾å¼æ”¯æŒã€‚æ­£åˆ™è¡¨è¾¾å¼ï¼ˆRegExï¼‰å¯ç”¨äºå­—ç¬¦ä¸²åŒ¹é…ã€æœç´¢ã€æ›¿æ¢ç­‰æ“ä½œï¼Œæ˜¯å¤„ç†æ–‡æœ¬æ•°æ®çš„åˆ©å™¨ã€‚æœ¬æ–‡å°†ä»åŸºç¡€è¯­æ³•åˆ°é«˜çº§ç”¨æ³•ï¼Œé€æ­¥ä»‹ç»C++æ­£åˆ™è¡¨è¾¾å¼å¦‚ä½•é«˜æ•ˆä½¿ç”¨ã€‚
ä¸€ã€åŸºç¡€å‡†å¤‡ 1. å¼•å…¥åº“å’Œå‘½åç©ºé—´ åœ¨ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ä¹‹å‰ï¼Œéœ€åŒ…å«å¤´æ–‡ä»¶å¹¶ä½¿ç”¨ç›¸å…³å‘½åç©ºé—´ï¼š
#include &lt;regex> #include &lt;string> #include &lt;iostream> using namespace std; 2. æ„å»ºæ­£åˆ™è¡¨è¾¾å¼ ä½¿ç”¨ std::regex å¯¹è±¡å­˜å‚¨æ­£åˆ™è¡¨è¾¾å¼ï¼š
regex re("\\d+"); // åŒ¹é…æ•°å­—ï¼Œæ³¨æ„è½¬ä¹‰å­—ç¬¦ äºŒã€æ­£åˆ™è¡¨è¾¾å¼è¯­æ³•åŸºç¡€ 1. å¸¸è§å…ƒå­—ç¬¦ å…ƒå­—ç¬¦ å«ä¹‰ . åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦ï¼ˆé™¤æ¢è¡Œç¬¦ï¼‰ * åŒ¹é…å‰ä¸€ä¸ªå­—ç¬¦ 0 æ¬¡æˆ–å¤šæ¬¡ + åŒ¹é…å‰ä¸€ä¸ªå­—ç¬¦ 1 æ¬¡æˆ–å¤šæ¬¡ ? åŒ¹é…å‰ä¸€ä¸ªå­—ç¬¦ 0 æ¬¡æˆ– 1 æ¬¡ ^ åŒ¹é…å­—ç¬¦ä¸²å¼€å¤´ $ åŒ¹é…å­—ç¬¦ä¸²ç»“å°¾ [] åŒ¹é…æ‹¬å·å†…çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼ˆå¦‚ [abc]ï¼‰ \d åŒ¹é…æ•°å­— [0-9] \D åŒ¹é…éæ•°å­— [^0-9] \w åŒ¹é…å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ [A-Za-z0-9_] 2. åˆ†ç»„å’Œæ•è·ï¼ˆGroupsï¼‰ regex re("(\\d{4})-(\\d{2})-(\\d{2})"); // è§£ææ—¥æœŸæ ¼å¼ YYYY-MM-DD smatch result; if(regex_search("2023-04-01", result, re)) { cout &lt;&lt; "å¹´ä»½: " &lt;&lt; result[1] &lt;&lt; endl; // è¾“å‡º "2023" cout &lt;&lt; "æœˆä»½: " &lt;&lt; result[2] &lt;&lt; endl; // è¾“å‡º "04" } ä¸‰ã€æ ¸å¿ƒå‡½æ•°ä¸ç”¨æ³• 1. æ£€æŸ¥åŒ¹é…ï¼ˆregex_matchï¼‰ æ£€æŸ¥æ•´ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ¹é…ï¼š</p></a></div><div class=card-footer><span class=float-start>Wednesday, June 15, 2022
</span><a href=/posts/blogs/2022-06-15-cpp-regex/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/posts/blogs/2022-06-15-poco-ftp/ class=post-card-link><img class=card-img-top src=/images/default-hero.jpg alt="Hero Image"></a></div><div class=card-body><a href=/posts/blogs/2022-06-15-poco-ftp/ class=post-card-link><h5 class=card-title>How to Implement FTP Upload by C++ and POCO</h5><p class="card-text post-summary">POCO POCO is a lightweight and flexible network library for C++ users. You can refer to the POCO library at its homepage: https://pocoproject.org/ or its github project page: https://github.com/pocoproject/poco . You can simply git clone from the POCO repository, and build it follows its official mannual. For me, I built it simply with the CMake-GUI tool on Windows, with all default settings.
How to Upload Includes Stuffs Most of the FTP related APIs are in the Poco/Net/FTPClientSession.h header file. The Exception Processing tools are used all the time, so that we include it too. When you need to do the uploading to FTP server, Poco/StreamCopier.h is must be included.</p></a></div><div class=card-footer><span class=float-start>Wednesday, June 15, 2022
</span><a href=/posts/blogs/2022-06-15-poco-ftp/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/posts/blogs/2022-06-15-cvxtext-opencv45/ class=post-card-link><img class=card-img-top src=/images/default-hero.jpg alt="Hero Image"></a></div><div class=card-body><a href=/posts/blogs/2022-06-15-cvxtext-opencv45/ class=post-card-link><h5 class=card-title>OpenCV 4.X ä½¿ç”¨CvxTextåœ¨å›¾ç‰‡æ˜¾ç¤ºæ±‰å­—</h5><p class="card-text post-summary">æœ€è¿‘åˆéœ€è¦åœ¨å›¾åƒä¸Šå®æ—¶ç»˜åˆ¶æ±‰å­—ã€‚ä¸€èˆ¬æ¥è®²å¦‚æœç»˜åˆ¶æ±‰å­—çš„éœ€æ±‚ç»•ä¸è¿‡çš„è¯ï¼Œç›´æ¥ç»˜åˆ¶åœ¨å›¾ç‰‡æ€»å½’æ˜¯æœ€easyçš„å®ç°æ–¹å¼ã€‚å› ä¸ºä¸ç„¶çš„è¯å¯èƒ½è¦é¢å¤–è°ƒç”¨GUIç»„ä»¶æ¥å®ç°ã€‚ä¸€èˆ¬éƒ½æ˜¯ç”¨freetype+cvxtextï¼Œè€ç”Ÿå¸¸è°ˆã€‚ä¸”ä¸è¯´å®é™…å®ç°èµ·æ¥æ˜¯å¦æœ€easyï¼Œä¸»è¦æ˜¯è¿™ç§æ–¹æ³•å¤šå¹´æ¥å®è·µäº†æ— æ•°æ¬¡äº†ï¼Œä¸è¿‡ä»Šæ¬¡åˆ‡æ¢åˆ°OpenCV4.5ï¼Œçªç„¶å‘ç°å¯èƒ½åˆè¦ä¿®æ”¹CvxTextä»£ç æ‰å¯ä»¥ï¼Œå› ä¸ºç›´æ¥ä½¿ç”¨ï¼Œä¸workã€‚
å‡†å¤‡ éœ€è¦çš„ä¾èµ–æœ‰ï¼š
C/C++ ç¼–è¯‘ç¯å¢ƒï¼ˆä¼¼ä¹æ˜¯åºŸè¯ï¼‰ OpenCV (ä»ç„¶åºŸè¯) freetypeçš„libï¼š æå‰ç¼–è¯‘å¥½ï¼Œå®˜ç½‘æ˜¯ https://freetype.org/ï¼Œæˆ‘ä½¿ç”¨çš„ç‰ˆæœ¬æ˜¯2.9.1 å­—ä½“æ–‡ä»¶ï¼Œä¸€èˆ¬ç”¨simhei.ttfã€‚åœ¨æ“ä½œç³»ç»Ÿçš„å­—ä½“é‡Œé¢å“¦ã€‚ ä¿®æ”¹ CvxText ä»£ç  æˆ‘è¿™é‡Œæœ‰ä¸€ä»½CvxTextä»£ç ï¼Œåœ¨æ—§ç‰ˆæœ¬çš„OpenCVä¸‹å¯ä»¥ä½¿ç”¨ï¼ˆOpenCV3.X)ã€‚å¦‚ä»Šæ›´æ¢åˆ°äº†OpenCV4.5ï¼Œè¿™ä»½ä»£ç ç›´æ¥ä½¿ç”¨ä¼šæœ‰äº›å°é—®é¢˜ï¼Œä¸è¿‡éƒ½å¾ˆå®¹æ˜“ä¿®æ”¹ã€‚
OpenCVå¤´æ–‡ä»¶åŒ…å«æ–¹å¼ é¦–å…ˆéœ€è¦é‡å†™å¤´æ–‡ä»¶åŒ…å«æ–¹æ³•ã€‚åœ¨OpenCV4ä»¥å‰ï¼Œincludeä¸‹æœ‰ä¸¤ä¸ªå­ç›®å½•ï¼Œåˆ†åˆ«æ˜¯opencvï¼Œå’Œopencv2ã€‚åœ¨OpenCV4.Xåï¼Œincludeä¸‹åªå‰©ä¸€ä¸ªopencv2æ–‡ä»¶å¤¹äº†ã€‚æ¶‰åŠåˆ°opencvçš„å¤´æ–‡ä»¶åŒ…å«ä»£ç ï¼Œæ”¹ä¸ºå¦‚ä¸‹å½¢å¼ï¼š
#include "opencv2/core/core.hpp" #include "opencv2/core/core_c.h" #include "opencv2/highgui/highgui.hpp" #include "opencv2/imgproc/imgproc.hpp" è¿™é‡Œç‰¹åˆ«è¯´æ˜ï¼Œå¼•å…¥core_c.hè¿™ä¸ªå¤´æ–‡ä»¶å¾ˆé‡è¦ã€‚å› ä¸ºæˆ‘æ‰‹é‡Œè¿™ä»½CvxTextä»£ç ç±»å‹éƒ½æ˜¯åŸºäºæ—§å¼çš„Cç±»å‹ï¼Œcore_c.h æä¾›äº†å¯¹Cç±»å‹çš„å…¼å®¹ã€‚
CvScalarç±»å‹é—®é¢˜ ä¸‹ä¸€å¤„éœ€è¦ä¿®æ”¹çš„æ˜¯å’ŒCvScalarç›¸å…³çš„ä»£ç ã€‚å°½ç®¡æˆ‘ä»¬é‡æ–°å†™äº†å¤´æ–‡ä»¶åŒ…å«ï¼Œå¼•å…¥äº†Cç±»å‹ï¼Œä½†æ˜¯æœ‰äº›ä»£ç ä»ç„¶ä¸èƒ½ç›´æ¥ç¼–è¯‘é€šè¿‡ï¼Œ å› ä¸ºCvScalarä¸èƒ½éšå¼çš„è½¬ä¸ºC++ç±»å‹çš„cv::Scalarã€‚ä¸‹é¢çš„puttextå‡½æ•°ä»£ç ä¸­ï¼Œæˆ‘ä¿®æ”¹äº†æ˜¾å¼çš„æ‰‹å·¥è½¬æ¢æ›¿ä»£äº†æ³¨é‡Šä¸­çš„ä»£ç ã€‚æ ·å­å¾ˆä¸‘ï¼Œä½†æ˜¯ç®€å•å¥½ç”¨ï¼ˆæ€»å…±èŠ±è´¹äº†ä¸åˆ°1åˆ†é’Ÿï¼‰ã€‚
int CvxText::putText(cv::Mat &amp;frame, const char *text, CvPoint pos) { //return putText(frame, text, pos, CV_RGB(255, 255, 255)); CvScalar s = {255, 255, 255}; return putText(frame, text, pos, s); } int CvxText::putText(cv::Mat &amp;frame, const wchar_t *text, CvPoint pos) { //return putText(frame, text, pos, CV_RGB(255, 255, 255)); CvScalar s = {255, 255, 255}; return putText(frame, text, pos, s); } cv::Matè½¬ä¸ºIplImage å¦ä¸€å¤„å°±æ˜¯æ¯”è¾ƒè€ç”Ÿå¸¸è°ˆçš„é—®é¢˜ï¼Œcv::Matè½¬ä¸ºIplImageã€‚è¿™é‡Œä¹‹å‰çš„å®ç°æ˜¯ç›´æ¥é‡‡ç”¨Cå½¢å¼çš„å¼ºåˆ¶è½¬æ¢ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p></a></div><div class=card-footer><span class=float-start>Wednesday, June 15, 2022
</span><a href=/posts/blogs/2022-06-15-cvxtext-opencv45/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/posts/blogs/2022-04-14-curved-text-detection-by-paddleocr/ class=post-card-link><img class=card-img-top src=/images/default-hero.jpg alt="Hero Image"></a></div><div class=card-body><a href=/posts/blogs/2022-04-14-curved-text-detection-by-paddleocr/ class=post-card-link><h5 class=card-title>Curved Text Detection by PaddleOCR</h5><p class="card-text post-summary">Text Detection Task is an old topic of Detction tasks. Curved text is much more free form. in this Post, we show you how to run the curved text detection by PaddleOCR.
Setup Environment Create a virtual environment named paddle_env.
conda create --name paddle_env python=3.8 Then activate it.
conda activate paddle_env Install paddlepaddle and paddle ocr packages through pip.
python -m pip install paddlepaddle pip install "paddleocr>=2.0.1" # Recommend to use version 2.0.1+ Test Environment Test the installations.</p></a></div><div class=card-footer><span class=float-start>Thursday, April 14, 2022
</span><a href=/posts/blogs/2022-04-14-curved-text-detection-by-paddleocr/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/posts/blogs/2022-03-26-numpy-to-opencv-mat-tips/ class=post-card-link><img class=card-img-top src=/images/default-hero.jpg alt="Hero Image"></a></div><div class=card-body><a href=/posts/blogs/2022-03-26-numpy-to-opencv-mat-tips/ class=post-card-link><h5 class=card-title>Tips of Migrating Numpy to C++ by OpenCV</h5><p class="card-text post-summary">Sigmoid A sigmoid function is a mathematical function having a characteristic "S"-shaped curve or sigmoid curve. From wikipedia: Sigmoid_function
It&rsquo;s formula: $S(t)=\frac {1}{1+e^{-t}}$
We can implement sigmoid function with python and numpy like this:
import numpy as np z = 1/(1 + np.exp(-x)) Now let&rsquo;s implement it in OpenCV with cpp. Suppose we&rsquo;ve got a output from a neural network as a [1, h, w] cv::Mat named pred. We then do something like pred = sigmoid(pred).</p></a></div><div class=card-footer><span class=float-start>Saturday, March 26, 2022
</span><a href=/posts/blogs/2022-03-26-numpy-to-opencv-mat-tips/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div></div><div class=paginator><ul class="pagination pagination-default"><li class="page-item disabled"><a aria-disabled=true aria-label=First class=page-link role=button tabindex=-1><span aria-hidden=true>&#171;&#171;</span></a></li><li class="page-item disabled"><a aria-disabled=true aria-label=Previous class=page-link role=button tabindex=-1><span aria-hidden=true>&#171;</span></a></li><li class="page-item active"><a aria-current=page aria-label="Page 1" class=page-link role=button>1</a></li><li class=page-item><a href=/posts/blogs/page/2/ aria-label="Page 2" class=page-link role=button>2</a></li><li class=page-item><a href=/posts/blogs/page/3/ aria-label="Page 3" class=page-link role=button>3</a></li><li class=page-item><a href=/posts/blogs/page/2/ aria-label=Next class=page-link role=button><span aria-hidden=true>&#187;</span></a></li><li class=page-item><a href=/posts/blogs/page/3/ aria-label=Last class=page-link role=button><span aria-hidden=true>&#187;&#187;</span></a></li></ul></div></div></section></div><footer id=footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-start"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=https://bigbookplus.github.io/#about>About</a></li><li class=nav-item><a class=smooth-scroll href=https://bigbookplus.github.io/#skills>Skills</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul><li><a href=mailto:xuling.chang@live.com target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span> <span>xuling.chang@live.com</span></a></li></ul></div><div class="col-md-4 col-sm-12"><p>Stay up to date with email notification</p><form method=post action=https://blogtrottr.com><div class=form-group><input type=email class=form-control name=btr_email placeholder="Enter email"><br><input type=hidden name=btr_url value=https://bigbookplus.github.io//index.xml>
<input type=hidden name=schedule_type value=1>
<small id=emailHelp class="form-text text-muted">By entering your email address, you agree to receive the newsletter of this website.</small>
<button type=submit class="btn btn-info"> Submit</button></div></form></div></div></div><hr><div class=container><div class="row text-start"><div class=col-md-4><a id=theme href=https://github.com/hugo-toha/toha target=_blank rel=noopener><img src=/images/theme-logo_hu_b3360284c55cf72d.png alt="Toha Theme Logo">
Toha</a></div><div class="col-md-4 text-center">Â© 2025 Copyright.</div><div class="col-md-4 text-end"><a id=hugo href=https://gohugo.io/ target=_blank rel=noopener>Powered by
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script src=/application.0748c49f8dba141977308c83638a1587e4ad98a2ffeef8cdd20e5d57dcf95dbc.js integrity="sha256-B0jEn426FBl3MIyDY4oVh+StmKL/7vjN0g5dV9z5Xbw=" defer></script></body></html>